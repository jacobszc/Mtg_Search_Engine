// if(SetElement.TryGetProperty("contents", out _) && SetElement.TryGetProperty("weight", out _))
//            {
//             Console.Write("The type of this is BoosterPack");
//             BoosterPack? BoosterPack = JsonSerializer.Deserialize<BoosterPack>(SetElement, options);
//             continue;
//            }

//            if(SetElement.TryGetProperty("allowDuplicates", out _) && SetElement.TryGetProperty("balanceColors", out _))
//            {
//             Console.Write("The type of this is BoosterSheet");
//             BoosterSheet? BoosterSheet = JsonSerializer.Deserialize<BoosterSheet>(SetElement, options);
//             continue;
//            }



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



if (string.IsNullOrEmpty(filePath))
{
    Console.WriteLine("Error: AllPrintingsFilePath not found in appsettings.json");
}
else
{
    // âœ… Instantiate your class

    using (var scope = app.Services.CreateScope())
    {
        var db = scope.ServiceProvider.GetRequiredService<mtgDbContext>();

        JsonDocument allPrintings =
            new AllPrintingsJsonDocumentConverter(filePath).GetJsonDocument();

        var deserializer = new AllPrintingsJsonDocumentDeserialzier(allPrintings, db);

        // sync method is fine if you want:
        
        // Inside that you can call db.Add(...); db.SaveChanges();
    }
    


    
    
    
    
    
    
    // Optionally call a method if you want (not needed if constructor auto-loads)
    // allPrintings.StringToDoc(filePath);
}


